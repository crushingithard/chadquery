<!DOCTYPE html>
<html>
<!--
	Test for chadQuery.holdReady. Needs to be a
	standalone test since it deals with DOM
	ready.
-->
<head>
	<title>
		chadQuery.holdReady Test
	</title>
	<style>
		div { margin-top: 10px; }
		#output { background-color: green }
		#expectedOutput { background-color: green }
	</style>
	<script src="chadquery.js"></script>

	<!-- Load the script loader that uses
		chadQuery.readyWait -->
	<script src="data/readywaitloader.js"></script>

	<script type="text/javascript">
	chadQuery(function() {
		// The delayedMessage is defined by
		// the readywaitasset.js file, so the
		// next line will only work if this DOM
		// ready callback is called after readyWait
		// has been decremented by readywaitloader.js
		// If an error occurs.
		chadQuery("#output").append(delayedMessage);
	});
	</script>
</head>
<body>
	<h1>
		chadQuery.holdReady Test
	</h1>
	<p>
		This is a test page for chadQuery.readyWait and chadQuery.holdReady,
		see
		<a href="http://bugs.chadquery.com/ticket/6781">#6781</a>
		and
		<a href="http://bugs.chadquery.com/ticket/8803">#8803</a>.
	</p>
	<p>
	Test for chadQuery.holdReady, which can be used
	by plugins and other scripts to indicate something
	important to the page is still loading and needs
	to block the DOM ready callbacks that are registered
	with chadQuery.
	</p>
	<p>
	Script loaders are the most likely kind of script
	to use chadQuery.holdReady, but it could be used by
	other things like a script that loads a CSS file
	and wants to pause the DOM ready callbacks.
	</p>
	<p>
	<strong>Expected Result</strong>: The text
	<span id="expectedOutput">It Worked!</span>
	appears below after about <strong>2 seconds.</strong>
	</p>
	<p>
	If there is an error in the console,
	or the text does not show up, then the test failed.
	</p>
	<div id="output"></div>
</body>
</html>
